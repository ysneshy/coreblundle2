{% extends "ClarolineCoreBundle:Administration:layout.html.twig" %}

{% block title %}{{ parent() ~ ' - ' ~ 'mail' | trans({}, 'platform') | striptags | raw }}{% endblock %}

{% block breadcrumb %}
    {{
        macros.breadcrumbs([
            {
                'icon': 'fa fa-cog',
                'name': 'administration'|trans({}, 'platform'),
                'href': path('claro_admin_parameters_index')
            },
            {
                'name': 'parameters'|trans({}, 'platform'),
                'href': path('claro_admin_parameters_index')
            },
            {
                'name': 'security_token'|trans({}, 'platform'),
                'href': path('claro_admin_security_token_list')
            },
            {
                'name': 'create_security_token'|trans({}, 'platform'),
                'href': ''
            }
        ])
    }}
{% endblock %}

{% block section_content %}
    <div class="panel-heading">
        <h3 class="panel-title">{{ 'create_security_token'|trans({}, 'platform') }}</h3>
    </div>
    <form role="form"
        class="form-horizontal"
        action="{{ path('claro_admin_security_token_create') }}"
        method="post"
        {{ form_enctype(form) }}
        id="form_settings"
        novalidate
    >
        <div class="panel-body">
            {{ form_widget(form) }}
            <span id="generate-token-btn" class="btn btn-default">
                <i class="fa fa-random"></i>
                {{ 'generate_token'|trans({}, 'platform') }}
            </span>
        </div>
        <br>
        <div class="panel-footer">
            <button type="submit" class="btn btn-primary">{{ 'ok'|trans({}, 'platform') }}</button>
            <a href="{{ path('claro_admin_security_token_list') }}">
                <button type="button" class="btn btn-default">{{ 'cancel'|trans({}, 'platform') }}</button>
            </a>
        </div>
    </form>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script
        src="{{ asset('bundles/clarolinecore/js/administration/securityTokenForm.js') }}"
        type="text/javascript"
    >
    </script>
{% endblock %}